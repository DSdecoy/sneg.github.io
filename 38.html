<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Happy birthday</title>
    <link rel="stylesheet" href="ntd.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
      integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <script
      src="https://code.jquery.com/jquery-3.7.1.min.js"
      integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
      crossorigin="anonymous"
    ></script>

    <div id="wrapper">
    
      <div class="content">
        <div class="left">
          <div class="title">
            <h1 class="happy">
              <span style="--t: 2s">H</span>
              <span style="--t: 2.2s">a</span>
              <span style="--t: 2.4s">p</span>
              <span style="--t: 2.6s">p</span>
              <span style="--t: 2.8s">y</span>
              <span style="--t:3s">&#160 </span>
                <span style="--t: 3.2s">B</span>
              <span style="--t: 3.4s">i</span>
              <span style="--t: 3.6s">r</span>
              <span style="--t: 3.8s">t</span>
              <span style="--t: 4s">h</span>
              <span style="--t: 4.2s">d</span>
              <span style="--t: 4.4s">a</span>
              <span style="--t: 4.6s">y</span> 

            </h1>
            <h1 class="birthday">
              <span style="--t: 5s">P</span>
              <span style="--t: 5.2s">h</span>
              <span style="--t: 5.4s">u</span>
              <span style="--t: 5.6s">o</span>
              
              <span style="--t: 5.8s">n</span>

              <span style="--t: 6.0s">g</span>
              <span style="--t: 6.2s">&#160</span>
              <span style="--t: 6.4s">L</span>
              <span style="--t: 6.6s">y</span>


            </h1>
          </div>
          <div class="btn">
            <button id="btn__letter">
              Mở thư&#160
              <img src="image/200w.gif" alt="">
            </button>
          </div>
          
            
          </div>
          <span class="day"> </span>
          <span class="month"></span>
        </div>
        
      

      <div class="box__letter">
        <div class="letter__border">
          <div class="letter">
            <div class="title__letter"></div>
            <div class="content__letter"> 
              <div class="left">
                <div class="d1">
                <img
                  id="heart__letter"
                  src="./image/tt.gf"
                  alt=""
                />
                </div>
                
                <img
                  class="heart heart_1"
                  style="--t: 0.5s"
                  width="20"
                  src="image/Screenshot 2024-09-23 201251.png"
                  alt=""
                />
                <img
                  class="heart heart_2"
                  style="--t: 1.7s"
                  width="20"
                  src="./image/Screenshot 2024-09-23 201407.png"
                  alt=""
                />
                <img
                  class="heart heart_3"
                  style="--t: 2.9s"
                  width="20"
                  src="./image/Screenshot 2024-09-23 201633.png"
                  alt=""
                />
                <img
                  class="heart heart_4"
                  style="--t: 4.1s"
                  width="20"
                  src="./image/Screenshot 2024-09-23 201725.png"
                  alt=""
                />
              </div>
              <div class="right">
                <div class="love__img">
                  <img src="./image/ca.gif" alt="" width="220" />
                </div>
                <div class="text__letter">
                  <p></p>
                </div>
                <img id="mewmew" width="80" src="./image/banh.gif" alt="" />
              </div>
            </div>
          </div>
          <div class="close">
            <i class="fa-solid fa-xmark"></i>
          </div>
        </div>
      </div>
    </div>
  </body>
  <script>
    
    let datetxt = "24/9/2007";
    let datatxtletter =
      "Chúc mừng sinh nhật em gái anh, tuổi mới xinh đẹp, hạnh phúc. Chúc 7đ Toán đỗ đại học mong muốn:))";
    let titleLetter = "Đến: Phuong Ly";
    let charArrDate = datetxt.split("");
    let charArrDateLetter = datatxtletter.split("");
    let charArrTitle = titleLetter.split("");
    let currentIndex = 0;
    let currentIndexLetter = 0;
    let currentIndexTitle = 0;
    let date__of__birth = document.querySelector(".date__of__birth span");
    let text__letter = document.querySelector(".text__letter p");
    setTimeout(function () {
      timeDatetxt = setInterval(function () {
        if (currentIndex < charArrDate.length) {
          date__of__birth.textContent += charArrDate[currentIndex];
          currentIndex++;
        } else {
         
        
        }
      }, 100);
    }, 12000);


    var intervalContent;
    var intervalTitle;
    $("#btn__letter").on("click", function () {
      $(".box__letter").slideDown();
      setTimeout(function () {
        $(".letter__border").slideDown();
      }, 1000);
      setTimeout(function () {
        intervalTitle = setInterval(function () {
          if (currentIndexTitle < charArrTitle.length) {
            document.querySelector(".title__letter").textContent +=
              charArrTitle[currentIndexTitle];
            let i = document.createElement("i");
            
            document.querySelector(".title__letter").appendChild(i);
            currentIndexTitle++;
          } else {
            clearInterval(intervalTitle);
          }
        }, 100);
      }, 2000);
      setTimeout(function () {
        document.querySelector("#heart__letter").classList.add("animationOp");
        document.querySelector(".love__img").classList.add("animationOp");
        document.querySelector("#mewmew").classList.add("animationOp");
      }, 2800);
      setTimeout(function () {
        document.querySelectorAll(".heart").forEach((item) => {
          item.classList.add("animation");
        });
      }, 3500);
      setTimeout(function () {
        intervalContent = setInterval(function () {
          if (currentIndexLetter < charArrDateLetter.length) {
            text__letter.textContent += charArrDateLetter[currentIndexLetter];
            currentIndexLetter++;
          } else {
            clearInterval(intervalContent);
          }
        }, 50);
      }, 6000);
    });
    $(".close").on("click", function () {
      clearInterval(intervalContent);
      document.querySelector(".title__letter").textContent = "";
      text__letter.textContent = "";
      currentIndexLetter = 0;
      currentIndexTitle = 0;
      document.querySelector("#heart__letter").classList.remove("animationOp");
      document.querySelector(".love__img").classList.remove("animationOp");
      document.querySelector("#mewmew").classList.remove("animationOp");
      document.querySelectorAll(".heart").forEach((item) => {
        item.classList.remove("animation");
      });
      $(".box__letter").slideUp();
      $(".letter__border").slideUp();
    });
    

    //mobile

    function mobile() {
      const app = {
        timeout: function (txt, dom) {
          let currentIndex = 0;
          let charArr = txt.split("");
          intervalMobile = setInterval(function () {
            if (currentIndex < charArr.length) {
              dom.textContent += charArr[currentIndex];
              currentIndex++;
            } else {
              clearInterval(intervalMobile);
            }
          }, 200);
        },
      };
      return app;
    }
    const fcMobile = mobile();
    if (window.innerWidth < 768) {
      setTimeout(() => {
        fcMobile.timeout("24", document.querySelector(".day"));
      }, 5000);
      setTimeout(() => {
        fcMobile.timeout("9", document.querySelector(".month"));
      }, 6000);
    }
    
  </script>
  
  
  
</html>
